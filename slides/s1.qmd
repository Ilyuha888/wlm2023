---
title: "L1 // Основы R. Типы и структуры данных. Функции и управляющие конструкции"
author: "Антон Ангельгардт"
format: 
  revealjs:
    logo: pics/logo.png
    footer: "WLM 2023"
    theme: style.scss
    transition: fade
    scrollable: true
    smaller: false
highlight-style: github
---

## Что будет?
```{js favicon-loader}
//  <link rel="icon" type="image/x-icon" href="pics/favicon.png">

var link = document.createElement('link');
link.type = 'image/x-icon';
link.rel = 'icon';
document.head.appendChild(link);
link.href = 'pics/favicon.png';
```

```{r, echo=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
```

```{r pkgs}
library(tidyverse)
theme_set(theme_bw())
library(latex2exp)
```


- R как язык программирования
    - Команды. Операторы и функции
    - Переменные и объекты
- Данные в R
    - Типы данных
    - Структуры данных
- Функции
    - Структура и создание функции
    - Условные ветвления и циклы



# L1.1 // Основы R. Типы и структуры данных

## R как язык программирования. Команды

## Математические операции

## Функции

## Логические операции

## Переменные

## Объекты

# Типы данных

## Тип данных это что?

## `numeric`

## `integer`

## `character`

## `logical`

## `factor`

## Специальные литералы

### `NA`

### `NaN`

### `NULL`

# Структуры данных

## Структура данных это что?

## Датафрейм

## Структура датафрейма

## Индексация датафрейма

## Создание датафрейма

## Векторы

Вектор --- это набор чисел.

$$
\pmatrix{1 & 4 & 36 & -8 & 90.1 & -14.5}
$$

## От направленного отрезка к набору чисел

Возьмем направленный отрезок (вектор):

```{r vec-classic}
ggplot(NULL) +
  geom_segment(aes(x = 2, y = 1, xend = 3, yend = 3),
               arrow = arrow(), linewidth = 1) +
  geom_point(aes(x = c(2, 3), y = c(1, 3)), size = 2) +
  xlim(0, 5) + ylim(0, 5) +
  annotate(geom = "text", label = TeX("(2, 1)"), x = 2.5, y = 1) +
  annotate(geom = "text", label = TeX("(3, 3)"), x = 3.5, y = 3) +
  coord_fixed()
```

[Договоримся](), что все векторы у нас начинаются из точки $(0, 0)$:

```{r vec-free}
ggplot(NULL) +
  geom_segment(aes(x = 0, y = 0, xend = 1, yend = 2),
               arrow = arrow(), linewidth = 1) +
  geom_point(aes(x = 1, y = 2), size = 2) +
  xlim(0, 5) + ylim(0, 5) +
  annotate(geom = "text", label = TeX("(1, 2)"), x = 1.5, y = 2) +
  coord_fixed()
```

Уберем вектор:

```{r vec-remove-vector}
ggplot(NULL) +
  # geom_segment(aes(x = 0, y = 0, xend = 1, yend = 2),
  #              arrow = arrow(), linewidth = 1) +
  geom_point(aes(x = 1, y = 2), size = 2) +
  xlim(0, 5) + ylim(0, 5) +
  annotate(geom = "text", label = TeX("(1, 2)"), x = 1.5, y = 2) +
  coord_fixed()
```

Получается, можно просто записать:

$$
\pmatrix{1 & 2}
$$

### Это одно и то же

$$
\pmatrix{1 & 0.5}, \quad \pmatrix{2 & 3}, \quad \pmatrix{4.2 & -3.5}
$$

```{r vec-same}
ggplot(NULL) +
  geom_segment(aes(x = 0, y = 0, 
                   xend = c(1, 2, 4.2), 
                   yend = c(.5, 3, -3.5)),
               arrow = arrow(), linewidth = 1) +
  xlim(0, 5) + ylim(-5, 5) +
  annotate(geom = "text", label = TeX(c("$(1, 0.5)$", "$(2, 3)$", "$(4.2, -3.5)$")), 
           x = c(1.5, 2.5, 4.7), 
           y = c(.5, 3, -3.5))
```

## Обобщаем вектор

Вектор --- это набор элементов одного типа.

```{r vec-types, echo=TRUE}
v_num <- c(1, 6, -34, 7.7)
v_char <- c("Москва", "Санкт-Петербург", "Нижний Новгород", "Пермь")
v_log <- c(TRUE, FALSE, TRUE, TRUE)
```

```{r vec-typer-print, echo=TRUE}
v_num
v_char
v_log
```


# L1.2 // Основы R. Функции и управляющие конструкции

## Списки

When you click the **Render** button a document will be generated that includes:

-   Content authored with markdown
-   Output from executable code

## Код

When you click the `Render` button a presentation will be generated that includes both content and the output of embedded code. You can embed code like this:

```{r, echo=TRUE}
1 + 1
```


## Формулы

$$
\mathbb{E}(X)=\frac{1}{n} \sum_{i=1}^n x_i
$$

$$
n \in \mathbb{N} \\
x \thicksim \mathcal{N}(0, 1)
$$


## Колонки

:::: {.columns}

::: {.column width="60%"}
Текст левой колонки
:::

::: {.column width="40%"}
Текст правой колонки
:::

::::


## Колонки с картинкой справа

:::: {.columns}

::: {.column width="60%"}
Текст левой колонки
:::

::: {.column width="40%"}
![](pics/test-pic.png)
:::

::::


## Колонки с картинкой слева

:::: {.columns}

::: {.column width="60%"}
![](pics/test-pic.png)
:::

::: {.column width="40%"}
Текст
:::

::::


## График

```{r plot}
plot(sample(1:100, 30))
```

## Итоги

- Пункт итогов
- Пункт итогов
- Пункт итогов


# L1. Основы R. Типы и структуры данных {#end}

:::: {.quarto-title-authors}
::: {.quarto-title-author}
Антон Ангельгардт
:::
::::