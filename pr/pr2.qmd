# P2 // Матрицы и списки. Функции и строки {#pr2 .unnumbered}



{{< include ../book/_symbols.qmd >}}

```{r opts, echo=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{=html}
<!--
REPLACE ALL pr2 TO pr<n> WITH MATCH CASE
-->
```
## Основные задания {#pr2_main}

### #1 {#pr2-1}

<img id="pr2-1-level" class="level"/>

::: {#pr2-1-task .task}
Создайте матрицу, размером 5×5, из единиц. Сохраните её в переменную `m`.
:::

```{r 1}
m <- matrix(1, nrow = 5, ncol = 5)
m
```


### #2 {#pr2-2}

<img id="pr2-2-level" class="level"/>

::: {#pr2-2-task .task}
Замените все некрайние значения на нули. Перезапишите переменную `m`.
:::

```{r 2}
m[2:4, 2:4] <- 0
m
```

::: hints-wrapper
<details class="hints" id="pr2-2-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::


### #3 {#pr2-3}

<img id="pr2-3-level" class="level"/>

::: {#pr2-3-task .task}

Выделите из матрицы `m`:

a. вторую строку

```{r 3a}
m[2,]
```

b. первый столбец

```{r 3b}
m[, 1]
```

c. строки с третьей по пятую

```{r 3c}
m[3:5, ]
```

d. второй и третий столбы

```{r 3d}
m[, 2:3]
```

:::



### #4 {#pr2-4}

<img id="pr2-4-level" class="level"/>

::: {#pr2-4-task .task}
Сравните вторую строку и третий столбец матрицы `m`.
:::

```{r 4}
m[2, ] == m[, 3]
```



### #5 {#pr2-5}

<img id="pr2-5-level" class="level"/>

::: {#pr2-5-task .task}
Создайте таблицу умножения. Это должна быть матрица, размером 9×9, в которой на пересечении $i$-ой строки и $j$-го столбца находится произведение $i \times j$. Сохраните результат в переменную `multab`.
:::

```{r 5}
multab <- matrix(rep(1:9, each = 9) * rep(1:9, times = 9), ncol = 9)
multab
```



### #6 {#pr2-6}

<img id="pr2-6-level" class="level"/>

::: {#pr2-6-task .task}

Поработайте с переменной `multab`.

a. выделите 71-ый элемент матрицы

```{r 6a}
multab[71]
```

b. замените все значения, меньшие 10, на пропуски (`NA`)

```{r 6b}
multab[multab < 10] <- NA
multab
```

:::



### #7 {#pr2-7}

<img id="pr2-7-level" class="level"/>

::: {#pr2-7-task .task}
Примените к матрице `multab` функции `sum()`, `mean()`, `median()`, которые мы применяли к векторам. Учтите, что в данных есть пропуски --- ведь мы их туда своими руками добавили.

Что получилось? Почему так?

:::

```{r 7}
sum(multab, na.rm = TRUE)
mean(multab, na.rm = TRUE)
median(multab, na.rm = TRUE)
```



### #8 {#pr2-8}

<img id="pr2-8-level" class="level"/>

::: {#pr2-8-task .task}

**8.1** Для матрицы `m` посчитайте сумму:

a. по каждой строке

```{r 8-1a}
apply(m, 1, sum)
```

b. по каждому столбцу

```{r 8-1b}
apply(m, 2, sum)
```

**8.2** Для матрицы `multab` посчитайте сумму по каждому столбцу.

```{r 8-2}
apply(multab, 2, sum, na.rm = TRUE)
```

:::

::: hints-wrapper
<details class="hints" id="pr2-8-hints">

<summary>Подсказка</summary>

`apply()`

</details>
:::

### #9 {#pr2-9}

<img id="pr2-9-level" class="level"/>

::: {#pr2-9-task .task}
Создайте список, который будет содержать следующие элементы:

* вектор `letters` под названием `alphabet`
* значение `TRUE` под названием `logic`
* матрицу `multab` под названием `multab`

Сохраните список в переменную `first_list`.
:::

```{r 9}
first_list <- list(alphabet = letters,
                   logic = TRUE,
                   multab = multab)
first_list
```



### #10 {#pr2-10}

<img id="pr2-10-level" class="level"/>

::: {#pr2-10-task .task}

Выделите из списка `first_list`:

a. первый элемент (по номеру) --- должен вернуться список

```{r 10a}
first_list[1]
```

b. матрицу `multab` (по названия) --- должен вернуться список

```{r 10b}
first_list["multab"]
```

c. матрицу `multab` --- должна вернуться матрица

```{r 10c}
first_list$multab
```

d. логический элемент `logic` --- должен вернуться вектор

```{r 10d}
first_list$logic
```

:::



### #11 {#pr2-11}

<img id="pr2-11-level" class="level"/>

::: {#pr2-11-task .task}
Выделите из списка `first_list`: 

a. первые 5 элементов вектора `alphabet`

```{r 11a}
first_list$alphabet[1:5]
```

b. два последних столбца матрицы `multab`

```{r 11b}
first_list$multab[, 8:9]
```


с. третий элемент логического вектора `logic`

```{r 11c}
first_list$logic[3]
```

:::



### #12 {#pr2-12}

<img class="level"/>

::: {#pr2-12-task .task}
a. Напишите функцию `mul(x, y)`, которая будет перемножать два своих аргумента.

```{r 12a}
mul <- function(x, y) {
  return(x * y)
}
```

```{r 12a-call, echo=TRUE}
mul(2,3)
mul(-4, -8)
mul(0.5, 6)
```

b. Напишите функцию `sqrtn(x, n)`, которая будет извлекать корень любой степени из любого числа.

```{r 12b}
sqrtn <- function(x, n) {
  message("n is negative\n")
  x^(1/n)
}
```

```{r 12b-call}
sqrtn(4, 2)
sqrtn(27, 3)
sqrtn(30, -5)
```

:::



### #13 {#pr2-13}

<img id="pr2-13-level" class="level"/>

::: task
Текст задания.
:::

::: hints-wrapper
<details class="hints" id="pr2-13-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #14 {#pr2-14}

<img id="pr2-14-level" class="level"/>

::: {#pr2-14-task .task}
Текст задания.
:::

::: hints-wrapper
<details class="hints" id="pr2-14-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #15 {#pr2-15}

<img id="pr2-15-level" class="level"/>

::: {#pr2-15-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-15-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #16 {#pr2-16}

<img id="pr2-16-level" class="level"/>

::: {#pr2-16-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-16-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #17 {#pr2-17}

<img id="pr2-17-level" class="level"/>

::: {#pr2-17-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-17-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #18 {#pr2-18}

<img id="pr2-18-level" class="level"/>

::: {#pr2-18-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-18-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #19 {#pr2-19}

<img id="pr2-19-level" class="level"/>

::: {#pr2-19-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-19-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #20 {#pr2-20}

<img id="pr2-20-level" class="level"/>

::: {#pr2-20-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-20-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

## Дополнительные задания {#pr2_add}

### #1 {#pr2-21}

<img id="pr2-21-level" class="level"/>

::: {#pr2-21-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-21-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #2 {#pr2-22}

<img id="pr2-22-level" class="level"/>

::: {#pr2-22-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-22-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #3 {#pr2-23}

<img id="pr2-23-level" class="level"/>

::: {#pr2-23-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-23-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #4 {#pr2-24}

<img id="pr2-24-level" class="level"/>

::: {#pr2-24-task .task}
Текст задания.
:::


### #5 {#pr2-25}

<img id="pr2-25-level" class="level"/>

::: {#pr2-25-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-25-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #6 {#pr2-26}

<img id="pr2-26-level" class="level"/>


::: hints-wrapper
<details class="hints" id="pr2-26-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #7 {#pr2-27}

<img id="pr2-27-level" class="level"/>

::: {#pr2-27-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-27-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #8 {#pr2-28}

<img id="pr2-28-level" class="level"/>

::: {#pr2-28-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-28-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #9 {#pr2-29}

<img id="pr2-29-level" class="level"/>

::: {#pr2-29-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-29-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

### #10 {#pr2-30}

<img id="pr2-30-level" class="level"/>

::: {#pr2-30-task .task}
Текст задания.
:::


::: hints-wrapper
<details class="hints" id="pr2-30-hints">

<summary>Подсказки</summary>

<details class="hint">

<summary>Как делать задание?</summary>

</details>

<details class="hint">

<summary>Что надо сделать?</summary>

</details>

<details class="hint">

<summary>Ответ неверный</summary>

</details>

</details>
:::

***

Некоторые задания, а также форматы заданий, подсмотрены у @moroz-dh4dl и @grinberg-rexercises.

<!-- *** -->

```{=html}
<!--- CHANGE pr2 TO pr<n> IN THE LINES BELOW--->
<script type="text/javascript" src="./js/pr2.json"></script>
<script type="text/javascript" src="./js/pr.js"></script>
```
