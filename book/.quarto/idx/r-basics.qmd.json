{"title":"Основы R","markdown":{"headingText":"Основы R","headingAttr":{"id":"rbasics","classes":[],"keyvalue":[]},"containsRefs":false,"markdown":"\n## Установка {#rbasics-rinstall}\n\n::: {.lab-chapter .lab-junior}\n:::\n\nЧтобы стать счастливым пользователем R, надо установить на свой комп две программы:\n\n- собственно [R](https://cran.r-project.org/)\n  + на [Win](https://cran.r-project.org/bin/windows/base/)\n  + на [Mac](https://cran.r-project.org/bin/macosx/)\n  + на [Linux](https://cran.rstudio.com/bin/linux/)\n- IDE [RStudio](https://posit.co/download/rstudio-desktop/)[^r-studio]\n\n[^r-studio]: По пути надо ещё не перепутать с [R-Studio](https://www.r-studio.com/ru/), которая восстанавливает данные с диска. Критическое сходство названий двух программ обязывает к повышенной внимательности при написании работ/статей/отчётов/заявок на гранты, в которых вы ссылаетесь на RStudio --- иногда рецензенты весьма недоумевают, как исследователи анализировали данные с помощью ПО для восстановления данных…\n\nПричем во избежание возможных проблем, надо поставить программы именно в этом порядке --- сначала R, а потом RStudio, иначе IDE может на найти R и будет ругаться.\n\n### Зачем ставить две проги? {#rbasics-why-we-need-both}\n\nВопрос не безосновательный. В целом, можно обойти и только R --- можно работать на нём хоть из командной строки --- однако это всё же не совсем удобно. Интерфейс самого R довольно скудный и не слишком приветливый.\n\n<center>\n<figure>\n<img src=\"./pics/r-interface.png\">\n<figcaption>\nИнтерфейс R\n</figcaption>\n</figure>\n</center>\n\nRStudio же, являясь, как уже вскользь отмечалось выше, интегрированной средой разработки (IDE), расширяет возможности R, предоставляет более юзабельный интерфейс для взаимодействия с языком и в целом делает работу с R радостной и приятной. С её интерфейсом и возможностями мы познакомимся далее.\n\nRStudio это не единственная среда для работы с R, но определенно самая удобная и популярная, поэтому мы будем пользоваться именно ею. RStudio является IDE, разработанной специально для работы в R, однако это вовсе не значит, что в ней нельзя использовать другие языки программирования. Например, книжка, которуя вы сейчас читаете, написана с использованием [R](https://www.r-project.org/about.html), [Python](https://www.python.org/), [HTML](http://htmlbook.ru/html), [SASS](https://sass-lang.com/), [JavaScript](https://learn.javascript.ru/), [YAML](https://yaml.org/) и других языков --- при этом вся работа велась в RStudio. Вот такая мощная вещь.\n\n### Что такое IDE? {#rbasics-what-is-ide}\n\nИнтегрированная среда разработки (IDE, integrated development environment) --- это специальная программа, которое предоставляет широкий спектр возможностей для разработки программного обеспечения. Возможно, вы слышали такие слова, как [PyCharm](https://www.jetbrains.com/ru-ru/pycharm/) или [Visual Studio Code](https://code.visualstudio.com/) --- это всё варианты IDE.\n\nОбычно IDE содержит несколько ключевых компонентов:\n\n- текстовый редактор для написания скриптов\n- [транслятор](#appendix_proglang) языка\n- отладчик (debugger)\n- средства автоматизации сборки (build automation tools)\n\nОбычно IDE позволяют работать с несколькими языками программирования (ЯП), но бывают и специализированные.\n\n> И хотя всё ещё присутствует холивар относительного того, является ли R языком программирования (ССЫЛКА), RStudio однозначно можно назвать полноценной IDE, так как разработка в ней вполне может вестить. Пример продукта разработки прямо перед вами --- книжка и другие материалы курса.\n\n\n## Подводные камни установки {#rbasics-installation-problems}\n\n::: {.lab-chapter .lab-junior}\n:::\n\nВ целом, установщики операционных систем обычно хорошо справляются со своей задачей, и в 90% случаев всё стаёт без багов. Однако ниже я оставлю некоторые комментарии о проблемах, с которыми сталкивался сам или о которых говорили знакомые и коллеги.\n\n### Windows {#rbasics-installation-problems-win}\n\nСамая частая проблема --- имя пользователя на кириллице. Компьютер вообще достаточно плохо переваривает кириллические символы. Особенную же проблему составляют такие символы в путях к файлам. Поскольку на Винде папка пользователя называется именем пользователя, то в случае киррилического имени, естественно, её имя будет на кириллице. Это можно пережить, перезадав некоторое дефолтные пути в настройках, однако если есть возможность переименовать пользователя и папку, я бы рекомендовал это сделать. Ну, так, чтобы не было неожиданных внезапностей.\n\n### MacOS {#rbasics-installation-problems-mac}\n\nТут в 99.9% случаев всё ровно. Бывает уже в процессе работы некоторые пакеты жалуются на недоустановленное что-то или на какие-либо несовместимости, но это случается невероятно редко и обычно достаточно легко лечится.\n\n### Linux {#rbasics-installation-problems-linux}\n\nЕсли вы пользователь Linux, значит R с RStudio вы ставили через Terminal. Скорее всего, всё прошло хорошо, и всё работает. Проблемки могут случиться чуть дальше, когда мы будем ставить дополнительные аровские пакеты, в которых будет идти основная наша работа --- R может не найти некоторые системные пакеты. Такая проблема у меня возникла на Ubuntu 22.04 --- помогла команда ниже:\n\n```\nsudo apt install r-base-dev\nsudo apt-get install -y libxml2-dev libcurl4-openssl-dev libssl-dev libfontconfig1-dev libharfbuzz-dev libfribidi-dev linfreetype6-dev libpng-dev libtiff5-dev libjpeg-dev\n```\n\nСначала мы будем знакомиться с базовым R и работать только в нём, но имейте в виду, что тут есть некая команда, которая может пригодиться.\n\n\n## Про R {#rbasics-r-about}\n\n::: {.lab-chapter .lab-junior}\n:::\n\n### Откуда оно взялось {#rbasics-where-r-from}\n\nR --- популярный язык программирования среди исследователей в социальных и гуманитарных науках. Если совсем коротко, то начиналось всё с языка S, который был языком программирования для статистического анализа. Потом его доработали и получился R.\n\nХотя сегодня всё ещё можно услышать, что «R --- это язык программирования для статистической обработки данных», это ложь. Да, когда-то давно дела обстояли именно так, но сейчас R --- это полноценный язык программирования, который позволяет решать широкий спект задач от статистического анализа и data wrangling до машинного обучения, моделирования и создания сайтов и приложений.\n\nКонечно, с точки зрения сурового программирования к R есть некоторые вопросики(ССЫЛКА).\n\n### Почему R? {#rbasics-why-r}\n\nВ сравнении с «классическим» ПО для анализа данных (типа SPSS) R круче, потому что это:\n\n- **свободное ПО** (часть [GNU Project](https://en.wikipedia.org/wiki/GNU_Project))\n  + бесплатно, без смс и регистрации\n- **динамично развивающаяся среда**\n  + обновляются функции, развивается IDE\n- **громадные возможности расширения функционала**\n  + более 20 000 пакетов\n    - многие написаны специально для какой-либо профессиональной области --- например, есть пакеты для биологов, психологов, лингвистов… \n- **открытый исходный код**\n  + можно посмотреть «мясо» функций и понять, как они работают изнутри --- нет проблемы «черного ящика»\n- **возможность написать свои пакеты**\n  + и сделать аналитических мир лучше\n- **большое сообщество по всему миру**, много ресурсов для задавания вопросов --- даже просто загуглив какой-либо вопрос или ошибку, вы, скорее всего, попадете на один из перечисленных ниже ресурсов\n  + [Stack Overflow](https://stackoverflow.com/) --- крайне полезный ресурс с ответами на вопросы, и не только по R. Есть версия [на русском](https://ru.stackoverflow.com/).\n  + [Stack Exchange](https://stackexchange.com/) --- подобен ресурсу выше, но спектр вопросов еще шире --- тут можно найти и что-то про математику, и про методы анализа данных, и ещё мого чего\n  + [Posit Community](https://community.rstudio.com/) --- форум с вопросами и ответами про R\n  + [R-bloggers](https://www.r-bloggers.com/) --- про новинки в R и рядом с ним\n  + [Хабр про R](https://habr.com/ru/hub/r/)\n  + …\n- [**Linear Warriors vs Quadratic Wizards**](https://1d4chan.org/wiki/Linear_Warriors,_Quadratic_Wizards)\n  + в SPSS (и другие GUI[^gui] пакеты) ниже порог вхождения, но развитие навыков --- линейное\n    - мы просто находим новые кнопки, на которые можно понажимать и что-то получить\n  + в R порог вхождения выше, но впоследствии случается резкий буст, и вы становитесь богами дата-аналитики\n    - чем больше методов анализа мы изучаем, тем глубже мы погружаемся в сам язык и его пакеты, а необходимость сделать так, чтобы все работало, стимулирует нам глубже разобраться в сами методах, чтобы код не падал там, где не надо\n\n:::{.column-margin}\n<center>\n<figure>\n<img src=\"./pics/LinearWarriors_QuadraticWizards.webp\">\n<figcaption>\n[Источник](https://1d4chan.org/wiki/Linear_Warriors,_Quadratic_Wizards)\n</figcaption>\n</figure>\n</center>\n:::\n\n- **возможность рисовать [красивые картинки](https://r-graph-gallery.com/index.html)**\n  + а также создавать интерктивные отчеты, книжки, сайты, блоги, дашборды…\n- **[репродуцируемость](https://en.wikipedia.org/wiki/Reproducibility_Project) результатов**\n  + ибо с кризисом воспроизводимости приходится всячески бороться\n\n[^gui]: GUI --- графический интерфейс пользователя (graphical user interface)\n\n### R vs Python {#rbasics-r-vs-py}\n\n> --- Я вот не могу выбрать: делать на R или на Python?<br>\n> --- Да какая разница! Главное --- делай!\n\n<center>\n<figure>\n<img src=\"./pics/R-vs-Python.jpeg\">\n<figcaption>\n[Источник](https://andreyex.ru/programmirovanie/r-vs-python-samaya-aktualnaya-diskussiya-dlya-nachinayushhih-uchenyh-dannyh/)\n</figcaption>\n</figure>\n</center>\n\n## Интерфейс RStudio {#rbasics-rstudio-interface}\n\n::: {.lab-chapter .lab-junior}\n:::\n\n<center>\n<figure>\n<img src=\"./pics/rstudio-interface.png\">\n<figcaption>Интерфейс RStudio</figcaption>\n</figure>\n</center>\n\n## Обновления {#rbasics-updates}\n\n### Обновление RStudio {#rbasics-updates-rstudio}\n\n### Обновление R {#rbasics-updates-r}\n\n### Обновление пакетов {#rbasics-updates-packages}\n\nОшибки has non-zero exit status\n\nПроблема обратной совместимости: функции иногда переезжают из пакета в пакет без предупреждения\n\n\n## R как калькулятор {#rbasics-r-calculator}\n\n::: {.lab-chapter .lab-junior}\n:::\n\n## Assignment. Переменные и объекты {#rbasics-vars-and-objects}\n\n::: {.lab-chapter .lab-junior}\n:::\n\n\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","highlight-style":"github","output-file":"r-basics.html"},"language":{"toc-title-document":"Содержание","toc-title-website":"Оглавление","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Приложения","section-title-footnotes":"Сноски","section-title-references":"Ссылки","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Автор","title-block-author-plural":"Авторы","title-block-affiliation-single":"Аффилиация","title-block-affiliation-plural":"Аффилиация","title-block-published":"Версия от","title-block-modified":"Изменено","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Danger","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Строка","code-lines":"Строки","copy-button-tooltip":"Копировать","copy-button-tooltip-success":"Скопировано!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"Ничего не найдено","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Очистить","search-detached-cancel-button-title":"Отмена","search-submit-button-title":"Отправить","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Рисунок","crossref-tbl-title":"Таблица","crossref-lst-title":"Listing","crossref-thm-title":"Теорема","crossref-lem-title":"Лемма","crossref-cor-title":"Следствие","crossref-prp-title":"Утверждение","crossref-cnj-title":"Conjecture","crossref-def-title":"Определение","crossref-exm-title":"Пример","crossref-exr-title":"Упражнение","crossref-ch-prefix":"Глава","crossref-apx-prefix":"Приложение","crossref-sec-prefix":"Раздел","crossref-eq-prefix":"Уравнение","crossref-lof-title":"Список иллюстраций","crossref-lot-title":"Список таблиц","crossref-lol-title":"List of Listings","environment-proof-title":"Доказательство","environment-remark-title":"Remark","environment-solution-title":"Решение","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","bibliography":["references.bib"],"editor":"source","cover-image":"pics/book-cover.png","theme":{"light":["css/lightstyle.scss","css/custom.scss","css/tasklight.scss"],"dark":["css/darkstyle.scss","css/custom.scss","css/taskdark.scss"]}},"extensions":{"book":{"multiFile":true}}},"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"markdown"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","highlight-style":"github","output-file":"r-basics.pdf"},"language":{"toc-title-document":"Содержание","toc-title-website":"Оглавление","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Приложения","section-title-footnotes":"Сноски","section-title-references":"Ссылки","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Автор","title-block-author-plural":"Авторы","title-block-affiliation-single":"Аффилиация","title-block-affiliation-plural":"Аффилиация","title-block-published":"Версия от","title-block-modified":"Изменено","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Danger","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Строка","code-lines":"Строки","copy-button-tooltip":"Копировать","copy-button-tooltip-success":"Скопировано!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"Ничего не найдено","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Очистить","search-detached-cancel-button-title":"Отмена","search-submit-button-title":"Отправить","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Рисунок","crossref-tbl-title":"Таблица","crossref-lst-title":"Listing","crossref-thm-title":"Теорема","crossref-lem-title":"Лемма","crossref-cor-title":"Следствие","crossref-prp-title":"Утверждение","crossref-cnj-title":"Conjecture","crossref-def-title":"Определение","crossref-exm-title":"Пример","crossref-exr-title":"Упражнение","crossref-ch-prefix":"Глава","crossref-apx-prefix":"Приложение","crossref-sec-prefix":"Раздел","crossref-eq-prefix":"Уравнение","crossref-lof-title":"Список иллюстраций","crossref-lot-title":"Список таблиц","crossref-lol-title":"List of Listings","environment-proof-title":"Доказательство","environment-remark-title":"Remark","environment-solution-title":"Решение","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"block-headings":true,"bibliography":["references.bib"],"editor":"source","documentclass":"scrreprt"},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["html","pdf"]}